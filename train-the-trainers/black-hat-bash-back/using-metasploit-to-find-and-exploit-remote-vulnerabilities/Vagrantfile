Vagrant.configure("2") do |config|

  config.vm.define "metasploitable" do |c|
    c.vm.box = "rapid7/metasploitable3-ub1404"
    c.vm.box_version = "0.1.12-weekly"
    c.vm.network "private_network", ip: "192.168.60.10"

    # This box does not come with VirtualBox Guest Additions, so its
    # default synced folder will fail. Disable it.
    c.vm.synced_folder ".", "/vagrant", disabled: true

    # By default, this box does not accept ICMP pings. Allow them.
    c.vm.provision "shell", inline: "iptables -I INPUT --proto icmp -j ACCEPT"

    # This box does not ship with the Vagrant default insecure key, so
    # we have to tell Vagrant how to log in (using its password).
    c.ssh.password = "vagrant"

    c.vm.provision "shell", path: "./Blue Team/provision.sh"
  end

  config.vm.define "red" do |c|
    c.vm.box = "debian/buster64"
    c.vm.network "private_network", ip: "192.168.60.11"
    c.vm.provision "shell", path: "./Red Team/provision.sh"

    # TODO: Write a post-up message.
    #c.vm.post_up_message = <<~EOF
    #EOF
  end

end
